@{
    var survey = (QuestionPackage)ViewData["Survey"];

    ViewData["Title"] = "Hasil Survei - " + survey.Name;
    Layout = "~/Views/Shared/AdminLTE/_Layout.cshtml";

    var participants = (List<Participant>)ViewData["Participants"];
    var verticalDimentions = (List<VerticalDimention>)ViewData["VerticalDimentions"];
    var questions = (List<Question>)ViewData["Questions"];
    var answerCultures = (Dictionary<int, List<VwCulturePerRow>>)ViewData["AnswerCultures"];
    var resumeCultureSubVerticalDimention = (Dictionary<int, List<VwCulturePerSubVerticalDimention>>)ViewData["ResumeCultureSubVerticalDimention"];
    var resumeCultureVerticalDimention = (Dictionary<int, List<VwCulturePerVerticalDimention>>)ViewData["ResumeCultureVerticalDimention"];
    var reportCultureSubVerticalDimention = (Dictionary<int, double>)ViewData["ReportCultureSubVerticalDimention"];
    var reportCultureVerticalDimention = (Dictionary<int, double>)ViewData["ReportCultureVerticalDimention"];
    var reportCulture = (Dictionary<int, double>)ViewData["ReportCulture"];

    var tabActive = (int)ViewData["Tab"];

    var tabActive0 = tabActive == 0 ? "show active" : "";
    var tabActive1 = tabActive == 1 ? "show active" : "";
    var tabActive2 = tabActive == 2 ? "show active" : "";
    var tabActive3 = tabActive == 3 ? "show active" : "";
    var tabActive4 = tabActive == 4 ? "show active" : "";
}

@section Scripts {
    <script src="~/plugins/amcharts/core.js"></script>
    <script src="~/plugins/amcharts/charts.js"></script>
    <script src="~/plugins/amcharts/animated.js"></script>
    <script src="~/Views/TypeScripts/survey-dashboard-akhlak-gauge.js"></script>
    <script src="~/Views/TypeScripts/survey-dashboard-akhlak-radar.js"></script>
    <script src="~/Views/TypeScripts/survey-dashboard-engagement-gauge.js"></script>
    <script src="~/Views/TypeScripts/survey-dashboard-engagement-radar.js"></script>
    <script src="~/Views/TypeScripts/survey-dashboard-perfromance-column.js"></script>
}

<div class="module form-modal">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Hasil Survei</h3>
            <div class="card-tools">
            </div>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            <ul class="nav nav-tabs" id="result-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link @tabActive0" id="participant-tab" data-toggle="pill" href="#participant" role="tab" aria-controls="participant" aria-selected="true">Daftar Peserta</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @tabActive1" id="culture-tab" data-toggle="pill" href="#culture" role="tab" aria-controls="culture" aria-selected="false">Hasil Akhlak</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @tabActive2" id="custom-content-below-messages-tab" data-toggle="pill" href="#custom-content-below-messages" role="tab" aria-controls="custom-content-below-messages" aria-selected="false">Hasil Engagement</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @tabActive3" id="performance-tab" data-toggle="pill" href="#performance" role="tab" aria-controls="performance" aria-selected="false">Hasil Kinerja</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link @tabActive4" id="dashboard-tab" data-toggle="pill" href="#dashboard" role="tab" aria-controls="performance" aria-selected="false">Dashboard</a>
                </li>
            </ul>
            <div class="tab-content" id="result-tabContent">
                <div class="tab-pane fade @tabActive0" id="participant" role="tabpanel" aria-labelledby="participant-tab">
                    <div class="card">
                        <div class="card-body">
                            <table class="table table-striped table-scrollable table-bordered table-hover table-checkable order-column">
                                <thead>
                                    <tr>
                                        <th width="25px">No</th>
                                        <th>Nama</th>
                                        <th width="150px">Waktu Mulai</th>
                                        <th width="150px">Waktu Selesai</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        var no = 1;
                                    }
                                    @foreach (var participant in participants)
                                    {
                                        <tr>
                                            <td>@no</td>
                                            <td>@participant.ParticipantUser.Name</td>
                                            <td>@participant.StartedAt.Value.ToString("dd MMM yyy HH:mm")</td>
                                            <td>@participant.FinishedAt.Value.ToString("dd MMM yyy HH:mm")</td>
                                        </tr>
                                        no++;
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade @tabActive1" id="culture" role="tabpanel" aria-labelledby="culture-tab">
                    @await Html.PartialAsync("~/Views/Survey/ResultCulture.cshtml")
                </div>
                <div class="tab-pane fade @tabActive2" id="custom-content-below-messages" role="tabpanel" aria-labelledby="custom-content-below-messages-tab">
                    @await Html.PartialAsync("~/Views/Survey/ResultEngagement.cshtml")
                </div>
                <div class="tab-pane fade @tabActive3" id="performance" role="tabpanel" aria-labelledby="performance-tab">
                    @await Html.PartialAsync("~/Views/Survey/ResultPerformance.cshtml")
                </div>
                <div class="tab-pane fade @tabActive4" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                    @await Html.PartialAsync("~/Views/Survey/ResultDashboard.cshtml")
                </div>
            </div>
        </div>
        <!-- /.card-body -->
        <div class="card-footer">
            @*<button id="edit" type="button" class="btn btn-primary">Perbarui Profil</button>*@
        </div>
    </div>
</div>